<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>صفحة العميل</title>
  <style>
    body{font-family:Arial;background:#f4f6f9;margin:0}
    .top{background:#1677ff;color:#fff;padding:18px;text-align:center;font-size:20px;font-weight:bold}
    .wrap{max-width:900px;margin:18px auto;padding:12px}
    .card{background:#fff;border-radius:14px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.06);margin-bottom:14px}
    label{display:block;margin:10px 0 6px;color:#333;font-weight:bold}
    input,select,textarea{width:100%;padding:12px;border-radius:12px;border:1px solid #ddd;font-size:16px;box-sizing:border-box}
    textarea{min-height:90px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .btn{width:100%;padding:14px;border:none;border-radius:12px;font-size:18px;cursor:pointer;margin-top:10px}
    .send{background:#1e8e5a;color:#fff}
    .back{background:#666;color:#fff}
    .status{padding:10px;border-radius:12px;background:#f0f3ff;color:#222;font-weight:bold}
    .ok{color:#1e8e5a;font-weight:bold}
    .small{font-size:13px;color:#666;margin-top:6px}
    .divider{height:1px;background:#eee;margin:12px 0}
  </style>
</head>
<body>
  <div class="top">صفحة العميل (إرسال طلب)</div>

  <div class="wrap">

    <div class="card">
      <div class="status">
        حالة الطلب: <span id="orderStatus">لم يتم الإرسال</span>
      </div>
      <div class="small">بعد الإرسال راح يظهر لك "قيد التشغيل" وبعدها الأدمن يغيرها إلى "جاهز ✅".</div>
    </div>

    <div class="card">
      <label>اسم العميل</label>
      <input id="name" placeholder="مثال: إبراهيم" />

      <label>رقم الهاتف</label>
      <input id="phone" placeholder="مثال: 96649676" />

      <label>نوع الطلب</label>
      <select id="type">
        <option value="ألمنيوم شيت">ألمنيوم شيت</option>
        <option value="قص ليزر">قص ليزر</option>
        <option value="حفر CNC">حفر CNC</option>
        <option value="قص + حفر">قص + حفر</option>
      </select>

      <div class="divider"></div>

      <div class="row">
        <div>
          <label>قياس الشيت (الطول mm)</label>
          <input id="sheetL" type="number" placeholder="مثال: 3000" />
        </div>
        <div>
          <label>قياس الشيت (العرض mm)</label>
          <input id="sheetW" type="number" placeholder="مثال: 1500" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>عرض الخط / السماكة (mm)</label>
          <input id="lineW" type="number" placeholder="مثال: 10" />
        </div>
        <div>
          <label>نوع المادة</label>
          <select id="material">
            <option value="ألمنيوم">ألمنيوم</option>
            <option value="ستانلس">ستانلس</option>
            <option value="حديد">حديد</option>
            <option value="Alucobond">Alucobond</option>
          </select>
        </div>
      </div>

      <label>تفاصيل القص / الحفر</label>
      <textarea id="details" placeholder="مثال: قص خارجي + حفر شعار + فتحات مسكة مخفية..."></textarea>

      <label>قياسات يدوية (يكتبها العميل)</label>
      <textarea id="manual" placeholder="مثال: فتحة الباب 1000×2200 / مسافة الجام 60 / فوق 30 / تحت 20 ..."></textarea>

      <label>رفع ملف (DXF / PDF / صورة)</label>
      <input id="file" type="file" />

      <label>ملاحظات إضافية</label>
      <textarea id="notes" placeholder="أي ملاحظات..."></textarea>

      <button class="btn send" onclick="sendOrder()">إرسال الطلب للأدمن</button>
      <button class="btn back" onclick="location.href='index.html'">رجوع للبوابة</button>

      <div class="small">⚠️ حالياً التخزين محلي (تجربة). بعدين نخليه أونلاين بقاعدة بيانات.</div>
    </div>

  </div>

<script>
  function sendOrder(){
    const order = {
      id: Date.now(),
      name: document.getElementById("name").value.trim(),
      phone: document.getElementById("phone").value.trim(),
      type: document.getElementById("type").value,
      sheetL: document.getElementById("sheetL").value,
      sheetW: document.getElementById("sheetW").value,
      lineW: document.getElementById("lineW").value,
      material: document.getElementById("material").value,
      details: document.getElementById("details").value.trim(),
      manual: document.getElementById("manual").value.trim(),
      notes: document.getElementById("notes").value.trim(),
      status: "قيد التشغيل",
      createdAt: new Date().toLocaleString("ar-KW")
    };

    if(!order.name || !order.phone){
      alert("اكتب اسم العميل ورقم الهاتف أولاً");
      return;
    }

    let orders = JSON.parse(localStorage.getItem("orders") || "[]");
    orders.unshift(order);
    localStorage.setItem("orders", JSON.stringify(orders));

    document.getElementById("orderStatus").innerHTML = "قيد التشغيل ⏳";
    alert("تم إرسال الطلب ✅");

    // تنظيف بسيط
    document.getElementById("details").value = "";
    document.getElementById("manual").value = "";
    document.getElementById("notes").value = "";
    document.getElementById("file").value = "";
  }
</script>
</body>
</html>
