<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ CNC)</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f6f7fb;
      margin:0;
      padding:0;
    }
    .header{
      background:#11a86b;
      color:#fff;
      padding:18px;
      text-align:center;
      font-size:20px;
      font-weight:bold;
    }
    .container{
      max-width:900px;
      margin:20px auto;
      padding:15px;
    }
    .card{
      background:#fff;
      border-radius:14px;
      padding:16px;
      margin-bottom:15px;
      box-shadow:0 6px 20px rgba(0,0,0,0.07);
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .btn{
      border:none;
      padding:12px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      font-size:15px;
    }
    .btn-blue{ background:#2d6cdf; color:#fff; }
    .btn-red{ background:#e74c3c; color:#fff; }
    .btn-green{ background:#11a86b; color:#fff; width:100%; margin-top:12px; }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:#fff6cc;
      color:#8a6d00;
      padding:8px 12px;
      border-radius:999px;
      font-weight:bold;
      border:1px solid #f3d87a;
    }
    .statusBox{
      background:#f1f5ff;
      border:1px solid #d9e3ff;
      border-radius:14px;
      padding:14px;
    }
    .note{
      color:#555;
      margin-top:8px;
      font-size:13px;
      line-height:1.6;
    }

    /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠØªØ§Øª */
    .tableHeader{
      background:#1e66ff;
      color:#fff;
      padding:12px;
      border-radius:12px;
      font-weight:bold;
      display:grid;
      grid-template-columns: 1.2fr 1fr 0.8fr 0.5fr;
      gap:10px;
      text-align:center;
    }
    .sheetRow{
      margin-top:10px;
      background:#fff;
      border:1px solid #e9e9e9;
      border-radius:12px;
      padding:10px;
      display:grid;
      grid-template-columns: 1.2fr 1fr 0.8fr 0.5fr;
      gap:10px;
      align-items:center;
    }
    select, input{
      width:100%;
      padding:12px;
      border-radius:10px;
      border:1px solid #ddd;
      font-size:15px;
      outline:none;
      background:#fff;
    }
    input[type="number"]{ text-align:center; }
    .center{ text-align:center; }

    .footerBtns{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }

    .title{
      font-weight:bold;
      font-size:18px;
      margin-bottom:10px;
    }
  </style>
</head>

<body>
  <div class="header">ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ CNC)</div>

  <div class="container">

    <!-- ÙƒØ±Øª Ø§Ù„ØªØ±Ø­ÙŠØ¨ + Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ -->
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div>
          <div style="font-weight:bold;font-size:18px;">
            Ù…Ø±Ø­Ø¨Ø§Ù‹: <span id="clientName">Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙŠÙ„</span>
          </div>
          <div class="note">Ù‡Ø°Ù‡ ØµÙØ­Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.</div>
        </div>
        <button class="btn btn-red" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
      </div>

      <div style="margin-top:12px;" class="statusBox">
        <div class="row" style="justify-content:space-between;">
          <div class="title">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
          <div class="badge" id="statusBadge">Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ â³</div>
        </div>

        <!-- Ù…Ù‡Ù…: Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ´ÙˆÙ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙ‚Ø·ØŒ Ù…Ø§ ÙŠØºÙŠØ± -->
        <div class="note">
          âœ… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ´ÙˆÙ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±).<br/>
          ğŸ“Œ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© ÙŠÙƒÙˆÙ† Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·.
        </div>
      </div>
    </div>

    <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠØª (Ù„Ù„Ø´Ø±Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯) -->
    <div class="card">
      <div class="title">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠØª (Ù„Ù„Ø´Ø±Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯)</div>
      <div class="note">Ø§Ø®ØªØ± Ù‚ÙŠØ§Ø³ Ø§Ù„Ø´ÙŠØª + Ø§Ù„Ø³Ù…Ø§ÙƒØ© + Ø§Ù„ÙƒÙ…ÙŠØ©ØŒ ÙˆØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ Ø£ÙƒØ«Ø± Ù…Ù† Ø´ÙŠØª.</div>

      <div class="tableHeader">
        <div>Ù‚ÙŠØ§Ø³ Ø§Ù„Ø´ÙŠØª</div>
        <div>Ø§Ù„Ø³Ù…Ø§ÙƒØ© (mm)</div>
        <div>Ø§Ù„ÙƒÙ…ÙŠØ©</div>
        <div>Ø­Ø°Ù</div>
      </div>

      <div id="sheetsContainer"></div>

      <div class="footerBtns">
        <button class="btn btn-blue" onclick="addSheetRow()">+ Ø¥Ø¶Ø§ÙØ© Ø´ÙŠØª</button>
      </div>

      <button class="btn btn-green" onclick="sendToSupplierWhatsApp()">ğŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´ÙŠØª Ù„Ù„Ù…ÙˆØ±Ø¯ (ÙˆØ§ØªØ³Ø§Ø¨)</button>

      <div class="note">
        ğŸ”” ÙŠØ·Ù„Ø¹ Ù„Ùƒ Ù†Øµ Ø¬Ø§Ù‡Ø² Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙÙŠÙ‡: Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ + ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠØªØ§Øª ÙÙ‚Ø·.
      </div>
    </div>

  </div>

<script>
  // ====== Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© ======
  const SHEET_SIZES = [
    "122x244",
    "122x300",
    "150x300",
    "100x300",
    "100x200",
    "122x350",
    "122x400",
    "150x400"
  ];

  const THICKNESSES = Array.from({length: 11}, (_,i)=> (i+2).toString()); // 2 Ø¥Ù„Ù‰ 12

  // ====== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ (ØªØ¬Ø±ÙŠØ¨ÙŠØ©) ======
  // Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø±Ø§Ø­ Ù†Ø®Ù„ÙŠÙ‡Ø§ Ù…Ù† Ø§Ù„ÙŠÙˆØ²Ø±/Ø¨Ø§Ø³ÙˆØ±Ø¯
  const currentClient = {
    username: "client1",
    companyName: "Ø´Ø±ÙƒØ© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ù„Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…",
    status: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„" // Ø£Ùˆ "Ø¬Ø§Ù‡Ø² Ø§Ù„Ø·Ù„Ø¨"
  };

  // ====== Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ ======
  document.getElementById("clientName").innerText = currentClient.companyName;
  updateStatusBadge(currentClient.status);

  function updateStatusBadge(status){
    const badge = document.getElementById("statusBadge");
    if(status === "Ø¬Ø§Ù‡Ø² Ø§Ù„Ø·Ù„Ø¨"){
      badge.style.background = "#dff7e9";
      badge.style.border = "1px solid #82d9a8";
      badge.style.color = "#0b6b3b";
      badge.innerText = "Ø¬Ø§Ù‡Ø² Ø§Ù„Ø·Ù„Ø¨ âœ…";
    } else {
      badge.style.background = "#fff6cc";
      badge.style.border = "1px solid #f3d87a";
      badge.style.color = "#8a6d00";
      badge.innerText = "Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ â³";
    }
  }

  // ====== Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠØªØ§Øª ======
  const sheetsContainer = document.getElementById("sheetsContainer");

  function createSelect(options){
    const sel = document.createElement("select");
    options.forEach(v=>{
      const op = document.createElement("option");
      op.value = v;
      op.textContent = v;
      sel.appendChild(op);
    });
    return sel;
  }

  function addSheetRow(){
    const row = document.createElement("div");
    row.className = "sheetRow";

    // Ù‚ÙŠØ§Ø³ Ø§Ù„Ø´ÙŠØª
    const sizeSelect = createSelect(SHEET_SIZES);

    // Ø§Ù„Ø³Ù…Ø§ÙƒØ©
    const thickSelect = createSelect(THICKNESSES);

    // Ø§Ù„ÙƒÙ…ÙŠØ©
    const qtyInput = document.createElement("input");
    qtyInput.type = "number";
    qtyInput.min = "1";
    qtyInput.placeholder = "Ù…Ø«Ø§Ù„: 5";

    // Ø­Ø°Ù
    const delBtn = document.createElement("button");
    delBtn.className = "btn btn-red";
    delBtn.innerText = "Ø­Ø°Ù";
    delBtn.onclick = ()=> row.remove();

    row.appendChild(sizeSelect);
    row.appendChild(thickSelect);
    row.appendChild(qtyInput);
    row.appendChild(delBtn);

    sheetsContainer.appendChild(row);
  }

  // ØµÙ Ø£ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
  addSheetRow();

  function collectSheets(){
    const rows = Array.from(document.querySelectorAll(".sheetRow"));
    const result = [];

    rows.forEach(r=>{
      const selects = r.querySelectorAll("select");
      const inputs = r.querySelectorAll("input");

      const size = selects[0].value;
      const thickness = selects[1].value;
      const qty = inputs[0].value;

      if(qty && Number(qty) > 0){
        result.push({ size, thickness, qty });
      }
    });

    return result;
  }

  // ====== Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…ÙˆØ±Ø¯ ÙˆØ§ØªØ³Ø§Ø¨ (Ù†Øµ Ø¬Ø§Ù‡Ø²) ======
  function sendToSupplierWhatsApp(){
    const sheets = collectSheets();

    if(sheets.length === 0){
      alert("âš ï¸ Ù„Ø§Ø²Ù… ØªØ¯Ø®Ù„ ÙƒÙ…ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ÙÙŠ Ø´ÙŠØª ÙˆØ§Ø­Ø¯.");
      return;
    }

    let msg = `Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø´ÙŠØªØ§Øª Ø£Ù„Ù…Ù†ÙŠÙˆÙ…\\n`;
    msg += `Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„: ${currentClient.companyName}\\n\\n`;
    msg += `ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠØªØ§Øª:\\n`;

    sheets.forEach((s, idx)=>{
      msg += `${idx+1}) Ù‚ÙŠØ§Ø³: ${s.size} | Ø³Ù…Ø§ÙƒØ©: ${s.thickness}mm | ÙƒÙ…ÙŠØ©: ${s.qty}\\n`;
    });

    // Ø­Ø· Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ Ù‡Ù†Ø§ (Ø¨Ø¯ÙˆÙ† +) Ù…Ø«Ø§Ù„: 965xxxxxxxx
    const supplierNumber = "96500000000";

    const url = `https://wa.me/${supplierNumber}?text=${encodeURIComponent(msg)}`;
    window.open(url, "_blank");
  }

  function logout(){
    // Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù†Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ Ø­Ù‚ÙŠÙ‚ÙŠ
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ (ØªØ¬Ø±ÙŠØ¨ÙŠ)");
    window.location.href = "index.html";
  }
</script>

</body>
</html>
