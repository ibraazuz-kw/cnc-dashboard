<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ CNC)</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f5f7fb;
      margin:0;
      padding:0;
      color:#111;
    }
    .header{
      background:#10b981;
      color:#fff;
      padding:16px;
      text-align:center;
      font-size:20px;
      font-weight:700;
    }
    .container{
      max-width:900px;
      margin:18px auto;
      padding:14px;
    }
    .card{
      background:#fff;
      border-radius:14px;
      padding:16px;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
      margin-bottom:14px;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .btn{
      border:none;
      padding:12px 14px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
      font-size:15px;
    }
    .btn-blue{ background:#2563eb; color:#fff; }
    .btn-red{ background:#ef4444; color:#fff; }
    .btn-dark{ background:#111827; color:#fff; }
    .btn-green{ background:#10b981; color:#fff; width:100%; font-size:16px; }

    .muted{ color:#6b7280; font-size:13px; margin-top:6px; }

    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:14px;
    }
    thead th{
      background:#2563eb;
      color:#fff;
      padding:12px;
      font-size:14px;
      text-align:center;
    }
    tbody td{
      background:#fff;
      padding:10px;
      border-bottom:1px solid #eef2ff;
      text-align:center;
    }

    input, select, textarea{
      width:100%;
      padding:10px;
      border:1px solid #e5e7eb;
      border-radius:12px;
      outline:none;
      font-size:14px;
      background:#fff;
    }
    textarea{
      min-height:80px;
      resize:vertical;
    }

    .mini{
      font-size:12px;
      color:#374151;
      margin-top:6px;
    }

    .door-preview{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:12px;
      margin-top:8px;
      padding:10px;
      background:#f9fafb;
      border-radius:12px;
      border:1px dashed #e5e7eb;
    }
    .door-box{
      width:70px;
      height:90px;
      border:2px solid #111;
      border-radius:8px;
      position:relative;
      background:#fff;
    }
    .hinge{
      position:absolute;
      top:10px;
      bottom:10px;
      width:4px;
      background:#111;
      border-radius:6px;
    }
    .swing{
      position:absolute;
      top:10px;
      bottom:10px;
      width:2px;
      background:#111;
      transform-origin:bottom;
      opacity:.7;
    }
    .label{
      font-weight:700;
      font-size:13px;
    }

    .copyBox{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid #e5e7eb;
      background:#f9fafb;
      font-size:14px;
      white-space:pre-wrap;
      line-height:1.7;
    }
  </style>
</head>

<body>

  <div class="header">ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø¥Ø±Ø³Ø§Ù„ Ø£Ù…Ø± ØªØ´ØºÙŠÙ„ CNC)</div>

  <div class="container">

    <!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
    <div class="card">
      <div class="row">
        <div style="flex:1; min-width:220px;">
          <label class="label">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© / Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
          <input id="clientName" placeholder="Ù…Ø«Ø§Ù„: Ø´Ø±ÙƒØ© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ù„Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…" />
        </div>

        <div style="flex:1; min-width:220px;">
          <label class="label">Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</label>
          <select id="orderType">
            <option value="Ø£Ø¨ÙˆØ§Ø¨ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…">Ø£Ø¨ÙˆØ§Ø¨ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</option>
            <option value="Ø´Ø¨Ø§Ø¨ÙŠÙƒ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…">Ø´Ø¨Ø§Ø¨ÙŠÙƒ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</option>
            <option value="Ù‚Øµ Ø´ÙŠØª Ø£Ù„Ù…Ù†ÙŠÙˆÙ…">Ù‚Øµ Ø´ÙŠØª Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</option>
            <option value="Ù‚Øµ + Ø­ÙØ± CNC">Ù‚Øµ + Ø­ÙØ± CNC</option>
          </select>
        </div>
      </div>

      <div class="mini">ğŸ“Œ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù…Ø­Ø³ÙˆØ¨ <b>Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØª</b> (ÙŠÙ…ÙŠÙ† / ÙŠØ³Ø§Ø±).</div>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª -->
    <div class="card">
      <h3 style="margin:0 0 10px 0;">ğŸ“ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª (Ø¨Ø§Ù„Ø³Ù†ØªÙŠÙ…ØªØ±)</h3>

      <table>
        <thead>
          <tr>
            <th style="width:60px;">Ù…</th>
            <th>Ø§Ù„Ø¹Ø±Ø¶ (Ø³Ù…)</th>
            <th>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (Ø³Ù…)</th>
            <th style="width:110px;">Ø§Ù„Ø¹Ø¯Ø¯</th>
            <th style="width:170px;">Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ÙØªØ­Ø©</th>
            <th style="width:110px;">Ø­Ø°Ù</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>

      <div style="margin-top:12px;">
        <button class="btn btn-blue" onclick="addRow()">+ Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠØ§Ø³</button>
      </div>

      <div class="muted">âœ… Ù…Ø«Ø§Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ„: 110Ã—300 Ø¹Ø¯Ø¯ 1 / Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ÙØªØ­Ø© ÙŠÙ…ÙŠÙ†</div>
    </div>

    <!-- Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
    <div class="card">
      <h3 style="margin:0 0 10px 0;">ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</h3>
      <textarea id="notes" placeholder="Ù…Ø«Ø§Ù„: ÙØªØ­Ø© Ù„Ù„Ø¯Ø§Ø®Ù„ + Ù…ÙƒØ§Ù† Ø§Ù„Ù‚ÙÙ„ + Ù…Ø³ÙƒØ© Ø®Ø§Ø±Ø¬ÙŠØ©..."></textarea>
    </div>

    <!-- Ø¥Ø±Ø³Ø§Ù„ Ø£Ù…Ø± ØªØ´ØºÙŠÙ„ CNC -->
    <div class="card">
      <button class="btn btn-green" onclick="generateCNCOrder()">ğŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø£Ù…Ø± ØªØ´ØºÙŠÙ„ CNC</button>
      <div class="muted">Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù†Øµ Ù…Ø±ØªØ¨ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø¥Ø±Ø³Ø§Ù„.</div>

      <div style="margin-top:12px; display:none;" id="resultBoxWrap">
        <div class="copyBox" id="resultBox"></div>
        <div style="margin-top:10px;">
          <button class="btn btn-dark" onclick="copyText()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†Øµ</button>
        </div>
      </div>
    </div>

  </div>

<script>
  let counter = 0;

  function addRow() {
    counter++;
    const tbody = document.getElementById("rows");

    const tr = document.createElement("tr");
    tr.setAttribute("data-id", counter);

    tr.innerHTML = `
      <td>${counter}</td>

      <td>
        <input type="number" min="1" step="0.1" placeholder="Ù…Ø«Ø§Ù„: 110" class="wCm" />
      </td>

      <td>
        <input type="number" min="1" step="0.1" placeholder="Ù…Ø«Ø§Ù„: 300" class="hCm" />
      </td>

      <td>
        <input type="number" min="1" step="1" placeholder="1" class="qty" value="1" />
      </td>

      <td>
        <select class="swingDir" onchange="updatePreview(${counter})">
          <option value="ÙŠÙ…ÙŠÙ†">ÙŠÙ…ÙŠÙ† (Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØª)</option>
          <option value="ÙŠØ³Ø§Ø±">ÙŠØ³Ø§Ø± (Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØª)</option>
        </select>

        <div class="door-preview" id="preview-${counter}">
          ${renderDoorPreview("ÙŠÙ…ÙŠÙ†")}
          <div style="font-size:12px; color:#6b7280;">ÙŠÙ…ÙŠÙ†</div>
        </div>
      </td>

      <td>
        <button class="btn btn-red" onclick="removeRow(${counter})">Ø­Ø°Ù</button>
      </td>
    `;

    tbody.appendChild(tr);
  }

  function removeRow(id){
    const row = document.querySelector(`tr[data-id="${id}"]`);
    if(row) row.remove();
  }

  function renderDoorPreview(dir){
    // Ù…ÙØµÙ„Ø§Øª ÙŠÙ…ÙŠÙ†/ÙŠØ³Ø§Ø± (Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØª)
    if(dir === "ÙŠÙ…ÙŠÙ†"){
      return `
        <div class="door-box">
          <div class="hinge" style="right:6px;"></div>
          <div class="swing" style="left:18px; transform:rotate(20deg);"></div>
        </div>
      `;
    }else{
      return `
        <div class="door-box">
          <div class="hinge" style="left:6px;"></div>
          <div class="swing" style="right:18px; transform:rotate(-20deg);"></div>
        </div>
      `;
    }
  }

  function updatePreview(id){
    const row = document.querySelector(`tr[data-id="${id}"]`);
    if(!row) return;

    const dir = row.querySelector(".swingDir").value;
    const preview = document.getElementById(`preview-${id}`);
    preview.innerHTML = `${renderDoorPreview(dir)} <div style="font-size:12px; color:#6b7280;">${dir}</div>`;
  }

  function generateCNCOrder(){
    const clientName = document.getElementById("clientName").value.trim() || "Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…";
    const orderType = document.getElementById("orderType").value;
    const notes = document.getElementById("notes").value.trim();

    const rows = document.querySelectorAll("#rows tr");
    if(rows.length === 0){
      alert("Ù„Ø§Ø²Ù… ØªØ¶ÙŠÙ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù‚ÙŠØ§Ø³ ÙˆØ§Ø­Ø¯.");
      return;
    }

    let text = "";
    text += `ğŸ“Œ Ø£Ù…Ø± ØªØ´ØºÙŠÙ„ CNC\n`;
    text += `Ø§Ù„Ø¹Ù…ÙŠÙ„: ${clientName}\n`;
    text += `Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨: ${orderType}\n`;
    text += `--------------------------\n`;
    text += `ğŸ“ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª (Ø³Ù…):\n`;

    let idx = 1;
    for(const r of rows){
      const w = r.querySelector(".wCm").value.trim();
      const h = r.querySelector(".hCm").value.trim();
      const q = r.querySelector(".qty").value.trim();
      const dir = r.querySelector(".swingDir").value;

      if(!w || !h || !q){
        alert("ÙÙŠ Ù‚ÙŠØ§Ø³ Ù†Ø§Ù‚Øµ! ØªØ£ÙƒØ¯ ØªØ¹Ø¨Ù‘ÙŠ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙˆØ§Ù„Ø¹Ø¯Ø¯ Ù„ÙƒÙ„ Ø³Ø·Ø±.");
        return;
      }

      text += `${idx}) ${w} Ã— ${h}  | Ø§Ù„Ø¹Ø¯Ø¯: ${q} | Ø§Ù„ÙØªØ­Ø©: ${dir} (Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ÙŠØª)\n`;
      idx++;
    }

    if(notes){
      text += `--------------------------\n`;
      text += `ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:\n${notes}\n`;
    }

    text += `--------------------------\n`;
    text += `âœ… ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„ØªÙ†ÙÙŠØ°.\n`;

    document.getElementById("resultBox").textContent = text;
    document.getElementById("resultBoxWrap").style.display = "block";
    window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
  }

  function copyText(){
    const txt = document.getElementById("resultBox").textContent;
    navigator.clipboard.writeText(txt).then(()=>{
      alert("ØªÙ… Ù†Ø³Ø® Ø£Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ âœ…");
    });
  }

  // Ø§Ø¨Ø¯Ø£ Ø¨Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ Ø¬Ø§Ù‡Ø²
  addRow();
</script>

</body>
</html>
