<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>لوحة الأدمن</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f6f7fb;
      margin:0;
      padding:0;
    }
    .header{
      background:#111;
      color:#fff;
      padding:18px;
      text-align:center;
      font-size:20px;
      font-weight:bold;
    }
    .container{
      max-width:1000px;
      margin:20px auto;
      padding:15px;
    }
    .card{
      background:#fff;
      border-radius:14px;
      padding:16px;
      margin-bottom:15px;
      box-shadow:0 6px 20px rgba(0,0,0,0.07);
    }
    .clientCard{
      border:1px solid #eee;
      border-radius:14px;
      padding:14px;
      margin-top:12px;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    select{
      padding:12px;
      border-radius:10px;
      border:1px solid #ddd;
      font-size:15px;
      outline:none;
      min-width:200px;
      background:#fff;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      font-weight:bold;
      border:1px solid #ddd;
    }
    .btn{
      border:none;
      padding:12px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      font-size:15px;
    }
    .btn-blue{ background:#2d6cdf; color:#fff; }
    .btn-red{ background:#e74c3c; color:#fff; }
    .title{
      font-weight:bold;
      font-size:18px;
      margin-bottom:8px;
    }
    .note{
      color:#555;
      font-size:13px;
      line-height:1.6;
    }
  </style>
</head>

<body>
  <div class="header">لوحة الأدمن (إدارة حالات الطلبات)</div>

  <div class="container">

    <div class="card">
      <div class="title">ملاحظة</div>
      <div class="note">
        ✅ هنا الأدمن فقط يغير حالة الطلب لكل عميل.<br/>
        ❌ العميل ما يقدر يغير الحالة.
      </div>
    </div>

    <div class="card">
      <div class="title">قائمة العملاء</div>

      <div id="clientsList"></div>
    </div>

  </div>

<script>
  // ====== بيانات العملاء (تجريبية) ======
  // لاحقاً نربطها بقاعدة بيانات
  let clients = [
    { username:"client1", companyName:"شركة إبراهيم للألمنيوم", status:"قيد التشغيل" },
    { username:"client2", companyName:"شركة الدروازة", status:"جاهز الطلب" },
    { username:"client3", companyName:"شركة الهاجري", status:"قيد التشغيل" }
  ];

  const clientsList = document.getElementById("clientsList");

  function statusBadge(status){
    const span = document.createElement("span");
    span.className = "badge";

    if(status === "جاهز الطلب"){
      span.style.background = "#dff7e9";
      span.style.border = "1px solid #82d9a8";
      span.style.color = "#0b6b3b";
      span.innerText = "جاهز الطلب ✅";
    } else {
      span.style.background = "#fff6cc";
      span.style.border = "1px solid #f3d87a";
      span.style.color = "#8a6d00";
      span.innerText = "قيد التشغيل ⏳";
    }
    return span;
  }

  function renderClients(){
    clientsList.innerHTML = "";

    clients.forEach((c, index)=>{
      const box = document.createElement("div");
      box.className = "clientCard";

      const top = document.createElement("div");
      top.className = "row";

      const info = document.createElement("div");
      info.innerHTML = `<b>${c.companyName}</b><br><span style="color:#666;font-size:13px;">يوزر: ${c.username}</span>`;

      const badge = statusBadge(c.status);

      top.appendChild(info);
      top.appendChild(badge);

      const controls = document.createElement("div");
      controls.className = "row";
      controls.style.marginTop = "12px";

      const select = document.createElement("select");
      ["قيد التشغيل","جاهز الطلب"].forEach(s=>{
        const op = document.createElement("option");
        op.value = s;
        op.textContent = s;
        if(s === c.status) op.selected = true;
        select.appendChild(op);
      });

      const saveBtn = document.createElement("button");
      saveBtn.className = "btn btn-blue";
      saveBtn.innerText = "حفظ الحالة";
      saveBtn.onclick = ()=>{
        clients[index].status = select.value;
        alert(`تم تحديث حالة ${c.companyName} إلى: ${select.value}`);
        renderClients();
      };

      controls.appendChild(select);
      controls.appendChild(saveBtn);

      box.appendChild(top);
      box.appendChild(controls);

      clientsList.appendChild(box);
    });
  }

  renderClients();
</script>

</body>
</html>
