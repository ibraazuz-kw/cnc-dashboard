<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Design CNC - Ø§Ù„Ø£Ø¯Ù…Ù†</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="topbar">
  <div class="container brand">
    <div class="logo"></div>
    <div>
      <h1>Pro Design CNC</h1>
      <p>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>
    </div>
  </div>
</div>

<div class="container">

<div class="card">
<h2>ðŸ“¦ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
<div id="orders"></div>
</div>

</div>

<script>

function loadOrders(){
  return JSON.parse(localStorage.getItem("orders")||"[]")
}

function saveOrders(o){
  localStorage.setItem("orders",JSON.stringify(o))
}

function render(){
  const box = document.getElementById("orders")
  const orders = loadOrders()

  if(!orders.length){
    box.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯"
    return
  }

  box.innerHTML=""

  orders.forEach((o,i)=>{
    const div=document.createElement("div")
    div.className="block"

    div.innerHTML=`
    <b>Ø·Ù„Ø¨ #${i+1}</b><br>
    Ø§Ù„Ø­Ø§Ù„Ø©:
    <select onchange="changeStatus(${i},this.value)">
      <option ${o.status=="Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„"?"selected":""}>Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„</option>
      <option ${o.status=="Ø¬Ø§Ù‡Ø²"?"selected":""}>Ø¬Ø§Ù‡Ø²</option>
    </select>

    <pre style="white-space:pre-wrap">${JSON.stringify(o,null,2)}</pre>
    `
    box.appendChild(div)
  })
}

function changeStatus(i,val){
  const orders=loadOrders()
  orders[i].status=val
  saveOrders(orders)
}

render()
</script>

</body>
</html>