<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pro Design CNC - تسجيل الدخول</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div class="topbar">
    <div class="container">
      <div class="brand">
        <div class="logo"></div>
        <div style="min-width:0">
          <h1>Pro Design CNC</h1>
          <p>نظام واحد يرتّب لك الورشة ويختصر وقتك</p>
        </div>
      </div>
      <div class="avatar"></div>
    </div>
  </div>

  <div class="container">
    <div class="card" style="margin-top:18px">
      <div style="text-align:center">
        <h2 style="margin:0;font-size:34px">تسجيل الدخول</h2>
        <p style="margin:8px 0 0;color:rgba(234,241,255,.65)">
          ادخل بياناتك للدخول إلى بوابة العميل أو الأدمن
        </p>
      </div>

      <div class="hr"></div>

      <label>اسم المستخدم</label>
      <input id="username" placeholder="مثال: client1 أو admin" autocomplete="username" />

      <label>كلمة المرور</label>
      <input id="password" type="password" placeholder="••••••" autocomplete="current-password" />

      <div style="height:12px"></div>

      <button id="loginBtn" class="btn btn-blue">دخول</button>

      <div class="help" id="loginMsg" style="text-align:center;margin-top:10px"></div>

      <div class="hr"></div>

      <div style="text-align:center;color:rgba(234,241,255,.55);font-size:14px">
        <div><b>عميل تجريبي:</b> <span style="color:#fff">client1 / 1234</span></div>
        <div><b>أدمن:</b> <span style="color:#fff">admin / admin123</span></div>
      </div>

    </div>
  </div>

  <script src="app.js"></script>
  <script>
    const loginBtn = document.getElementById("loginBtn");
    const loginMsg = document.getElementById("loginMsg");

    function showMsg(text, ok=false){
      loginMsg.textContent = text;
      loginMsg.style.color = ok ? "#b7ffd9" : "#ffe1e1";
    }

    loginBtn.onclick = () => {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();

      if(!username || !password){
        showMsg("⚠️ اكتب اسم المستخدم وكلمة المرور");
        return;
      }

      // Admin
      if(username === "admin" && password === "admin123"){
        localStorage.setItem("pd_session", JSON.stringify({
          username:"admin",
          role:"admin",
          company:"Pro Design Admin"
        }));
        showMsg("✅ تم تسجيل دخول الأدمن", true);
        setTimeout(()=> location.href="admin.html", 500);
        return;
      }

      // Client
      if(username === "client1" && password === "1234"){
        localStorage.setItem("pd_session", JSON.stringify({
          username:"client1",
          role:"client",
          company:"شركة العميل 1"
        }));
        showMsg("✅ تم تسجيل دخول العميل", true);
        setTimeout(()=> location.href="client.html", 500);
        return;
      }

      showMsg("❌ بيانات الدخول غير صحيحة");
    };

    document.getElementById("password").addEventListener("keydown",(e)=>{
      if(e.key === "Enter") loginBtn.click();
    });
  </script>

</body>
</html>
